Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">FergieTime</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision b86e65967f3282112eeea6c80673b79140a79dcb)
+++ b/app/src/main/res/values/strings.xml	(date 1750643820171)
@@ -1,3 +1,6 @@
 <resources>
     <string name="app_name">FergieTime</string>
-</resources>
\ No newline at end of file
+    <string name="greeting">こんにちは、FergieTime！</string>
+    <string name="change_language">英語に切り替え</string>
+    <string name="change_language_japanese">日本語に戻す</string>
+</resources>
Index: app/src/main/res/values-en/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-en/strings.xml b/app/src/main/res/values-en/strings.xml
new file mode 100644
--- /dev/null	(date 1750643820163)
+++ b/app/src/main/res/values-en/strings.xml	(date 1750643820163)
@@ -0,0 +1,6 @@
+<resources>
+    <string name="app_name">FergieTime</string>
+    <string name="greeting">Hello, FergieTime!</string>
+    <string name="change_language">Switch to English</string>
+    <string name="change_language_japanese">Switch to Japanese</string>
+</resources>
Index: app/src/main/res/layout/layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/layout.xml b/app/src/main/res/layout/layout.xml
new file mode 100644
--- /dev/null	(date 1750041952845)
+++ b/app/src/main/res/layout/layout.xml	(date 1750041952845)
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <TextView
+        android:id="@+id/textView"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_weight="1" />
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/fergietime/LocaleHelper.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/fergietime/LocaleHelper.kt b/app/src/main/java/com/example/fergietime/LocaleHelper.kt
new file mode 100644
--- /dev/null	(date 1750293135639)
+++ b/app/src/main/java/com/example/fergietime/LocaleHelper.kt	(date 1750293135639)
@@ -0,0 +1,35 @@
+import android.content.Context
+import android.content.SharedPreferences
+import android.content.res.Configuration
+import android.os.Build
+import java.util.*
+
+object LocaleHelper {
+    private const val SELECTED_LANGUAGE = "Locale.Helper.Selected.Language"
+
+    fun saveLanguage(context: Context, language: String) {
+        val prefs: SharedPreferences = context.getSharedPreferences("settings", Context.MODE_PRIVATE)
+        prefs.edit().putString(SELECTED_LANGUAGE, language).apply()
+    }
+
+    fun getLanguage(context: Context): String {
+        val prefs: SharedPreferences = context.getSharedPreferences("settings", Context.MODE_PRIVATE)
+        return prefs.getString(SELECTED_LANGUAGE, Locale.getDefault().language) ?: "en"
+    }
+
+    fun setLocale(context: Context, language: String): Context {
+        val locale = Locale(language)
+        Locale.setDefault(locale)
+
+        val config = Configuration(context.resources.configuration)
+        config.setLocale(locale)
+
+        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {
+            context.createConfigurationContext(config)
+        } else {
+            @Suppress("DEPRECATION")
+            context.resources.updateConfiguration(config, context.resources.displayMetrics)
+            context
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/fergietime/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.fergietime\r\n\r\nimport android.os.Bundle\r\nimport androidx.activity.ComponentActivity\r\nimport androidx.activity.compose.setContent\r\nimport androidx.activity.enableEdgeToEdge\r\nimport androidx.compose.foundation.layout.fillMaxSize\r\nimport androidx.compose.foundation.layout.padding\r\nimport androidx.compose.material3.Scaffold\r\nimport androidx.compose.material3.Text\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport com.example.fergietime.ui.theme.FergieTimeTheme\r\n\r\nclass MainActivity : ComponentActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        enableEdgeToEdge()\r\n        setContent {\r\n            FergieTimeTheme {\r\n                Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->\r\n                    Greeting(\r\n                        name = \"FergieTimea\",\r\n                        modifier = Modifier.padding(innerPadding)\r\n                    )\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@Composable\r\nfun Greeting(name: String, modifier: Modifier = Modifier) {\r\n    Text(\r\n        text = \"Hello $name!\",\r\n        modifier = modifier\r\n    )\r\n}\r\n\r\n@Preview(showBackground = true)\r\n@Composable\r\nfun GreetingPreview() {\r\n    FergieTimeTheme {\r\n        Greeting(\"Android\")\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/fergietime/MainActivity.kt b/app/src/main/java/com/example/fergietime/MainActivity.kt
--- a/app/src/main/java/com/example/fergietime/MainActivity.kt	(revision b86e65967f3282112eeea6c80673b79140a79dcb)
+++ b/app/src/main/java/com/example/fergietime/MainActivity.kt	(date 1750643732918)
@@ -4,25 +4,39 @@
 import androidx.activity.ComponentActivity
 import androidx.activity.compose.setContent
 import androidx.activity.enableEdgeToEdge
-import androidx.compose.foundation.layout.fillMaxSize
-import androidx.compose.foundation.layout.padding
-import androidx.compose.material3.Scaffold
-import androidx.compose.material3.Text
+import androidx.compose.foundation.layout.*
+import androidx.compose.material3.*
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.Modifier
+import androidx.compose.ui.res.stringResource
 import androidx.compose.ui.tooling.preview.Preview
+import androidx.compose.ui.unit.dp
+import android.content.Context
 import com.example.fergietime.ui.theme.FergieTimeTheme
 
 class MainActivity : ComponentActivity() {
+
+    override fun attachBaseContext(newBase: Context) {
+        val context = LocaleHelper.setLocale(newBase, LocaleHelper.getLanguage(newBase))
+        super.attachBaseContext(context)
+    }
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         enableEdgeToEdge()
         setContent {
             FergieTimeTheme {
-                Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->
-                    Greeting(
-                        name = "FergieTimea",
-                        modifier = Modifier.padding(innerPadding)
+                Scaffold(modifier = Modifier.fillMaxSize()) { padding ->
+                    GreetingScreen(
+                        modifier = Modifier.padding(padding),
+                        onChangeToEnglish = {
+                            LocaleHelper.saveLanguage(this, "en")
+                            recreate()
+                        },
+                        onChangeToJapanese = {
+                            LocaleHelper.saveLanguage(this, "ja")
+                            recreate()
+                        }
                     )
                 }
             }
@@ -31,17 +45,31 @@
 }
 
 @Composable
-fun Greeting(name: String, modifier: Modifier = Modifier) {
-    Text(
-        text = "Hello $name!",
-        modifier = modifier
-    )
+fun GreetingScreen(
+    modifier: Modifier = Modifier,
+    onChangeToEnglish: () -> Unit,
+    onChangeToJapanese: () -> Unit
+) {
+    Column(modifier = modifier.padding(16.dp)) {
+        Text(text = stringResource(id = R.string.greeting))
+        Spacer(modifier = Modifier.height(16.dp))
+        Button(onClick = { onChangeToEnglish() }) {
+            Text(text = stringResource(id = R.string.change_language))
+        }
+        Spacer(modifier = Modifier.height(8.dp))
+        Button(onClick = { onChangeToJapanese() }) {
+            Text(text = stringResource(id = R.string.change_language_japanese))
+        }
+    }
 }
 
 @Preview(showBackground = true)
 @Composable
 fun GreetingPreview() {
     FergieTimeTheme {
-        Greeting("Android")
+        GreetingScreen(
+            onChangeToEnglish = {},
+            onChangeToJapanese = {}
+        )
     }
-}
\ No newline at end of file
+}
Index: app/src/main/java/com/example/fergietime/MyApplication.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/fergietime/MyApplication.kt b/app/src/main/java/com/example/fergietime/MyApplication.kt
new file mode 100644
--- /dev/null	(date 1750295171580)
+++ b/app/src/main/java/com/example/fergietime/MyApplication.kt	(date 1750295171580)
@@ -0,0 +1,17 @@
+package com.example.fergietime
+
+import android.app.Application
+import android.content.Context
+
+class MyApplication : Application() {
+
+    override fun attachBaseContext(base: Context?) {
+        val context = LocaleHelper.setLocale(base!!, LocaleHelper.getLanguage(base))
+        super.attachBaseContext(context)
+    }
+
+    override fun onCreate() {
+        super.onCreate()
+        LocaleHelper.setLocale(this, LocaleHelper.getLanguage(this))
+    }
+}
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.FergieTime\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/Theme.FergieTime\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision b86e65967f3282112eeea6c80673b79140a79dcb)
+++ b/app/src/main/AndroidManifest.xml	(date 1750293745345)
@@ -3,15 +3,13 @@
     xmlns:tools="http://schemas.android.com/tools">
 
     <application
-        android:allowBackup="true"
-        android:dataExtractionRules="@xml/data_extraction_rules"
-        android:fullBackupContent="@xml/backup_rules"
-        android:icon="@mipmap/ic_launcher"
+        android:name=".MyApplication"
         android:label="@string/app_name"
+        android:icon="@mipmap/ic_launcher"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/Theme.FergieTime"
-        tools:targetApi="31">
+        >
         <activity
             android:name=".MainActivity"
             android:exported="true"
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml
new file mode 100644
--- /dev/null	(date 1750295394063)
+++ b/app/src/main/res/layout/activity_main.xml	(date 1750295394063)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    android:padding="24dp"
+    android:gravity="center">
+
+    <TextView
+        android:id="@+id/textMessage"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:paddingBottom="16dp"
+        android:text="@string/greeting"
+        android:textSize="24sp" />
+
+    <Button
+        android:id="@+id/buttonChangeLanguage"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="@string/change_language" />
+
+    <Button
+        android:id="@+id/button"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:text="Button" />
+</LinearLayout>
